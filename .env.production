# Docker Environment Configuration for Dell Linux Server
# This file contains Docker-specific environment variables

# ==================================================
# SECURITY CONFIGURATION
# ==================================================
# Generate a strong secret key for production:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=a7b8c9d0e1f2g3h4i5j6k7l8m9n0o1p2q3r4s5t6u7v8w9x0y1z2a3b4c5d6e7f8

# Redis password for caching (if enabled)
REDIS_PASSWORD=StrongRedisPassword123!

# ==================================================
# APPLICATION CONFIGURATION
# ==================================================
FLASK_ENV=production
FLASK_DEBUG=false
HOST=0.0.0.0
PORT=5000

# ==================================================
# DATABASE CONFIGURATION
# ==================================================
# SQLite (recommended for single-server deployment)
DATABASE_URL=sqlite:////app/production.db

# Alternative database options:
# PostgreSQL: DATABASE_URL=postgresql://username:password@postgres:5432/stripe_dashboard
# MySQL: DATABASE_URL=mysql://username:password@mysql:3306/stripe_dashboard

# ==================================================
# STRIPE API CONFIGURATION
# ==================================================
# Add your Stripe API keys here
STRIPE_ACCOUNT_1_KEY=sk_live_your_stripe_key_1
STRIPE_ACCOUNT_2_KEY=sk_live_your_stripe_key_2
STRIPE_ACCOUNT_3_KEY=sk_live_your_stripe_key_3

# Stripe webhook endpoints (if applicable)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ==================================================
# SECURITY & SESSION CONFIGURATION
# ==================================================
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
WTF_CSRF_TIME_LIMIT=3600

# ==================================================
# PERFORMANCE & CACHING
# ==================================================
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_POOL_TIMEOUT=20
SQLALCHEMY_POOL_RECYCLE=3600
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ==================================================
# LOGGING CONFIGURATION
# ==================================================
LOG_LEVEL=INFO
LOG_TO_FILE=true
LOG_ROTATION=true
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ==================================================
# NETWORK & PROXY CONFIGURATION
# ==================================================
TRUSTED_PROXIES=172.20.0.0/16,192.168.0.0/16,10.0.0.0/8
PREFERRED_URL_SCHEME=https

# ==================================================
# FILE UPLOAD CONFIGURATION
# ==================================================
MAX_CONTENT_LENGTH=16777216  # 16MB
UPLOAD_FOLDER=/app/uploads
ALLOWED_EXTENSIONS=csv,xlsx,pdf

# ==================================================
# COMPANY & LOCALIZATION
# ==================================================
COMPANY_NAME=Krystal Company
TIMEZONE=Asia/Hong_Kong
DEFAULT_CURRENCY=HKD
CNY_TO_HKD_RATE=1.0732

# ==================================================
# MONITORING & HEALTH CHECKS
# ==================================================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
PROMETHEUS_METRICS=true

# ==================================================
# BACKUP CONFIGURATION
# ==================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=/var/backups/stripe_dashboard
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# ==================================================
# RATE LIMITING
# ==================================================
RATELIMIT_STORAGE_URL=redis://:${REDIS_PASSWORD}@redis:6379/1
RATELIMIT_DEFAULT=100 per hour

# ==================================================
# CORS CONFIGURATION (if needed for API access)
# ==================================================
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# ==================================================
# EMAIL CONFIGURATION (optional)
# ==================================================
# MAIL_SERVER=smtp.company.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=noreply@company.com
# MAIL_PASSWORD=your_email_password
# MAIL_DEFAULT_SENDER=Stripe Dashboard <noreply@company.com>

# ==================================================
# EXTERNAL SERVICES (optional)
# ==================================================
# Sentry for error tracking
# SENTRY_DSN=https://your_sentry_dsn

# Analytics (if applicable)
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# ==================================================
# DOCKER-SPECIFIC CONFIGURATION
# ==================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
TZ=Asia/Hong_Kong

# Container resource limits (for documentation)
# Memory limit: 1G
# CPU limit: 2.0
# These are set in docker-compose.production.yml